<nav class="autocadastro__navbar navbar navbar-expand navbar-dark bg-dark" aria-label="Second navbar example">
    <div class="navbar__content container-fluid">
        <img src="../../../assets/images/pilha-de-roupas.png"
            alt="Imagem ilustrada de uma camisetas de roupas dobradas">
        <p class="navbar__title">LOL - Lavanderia On-line</p>
        <div class="navbar__btn collapse navbar-collapse" id="navbarsExample02">
            <a routerLink="/">Login</a>
        </div>
    </div>
</nav>

<section class="autocadastro">
    <h1 class="autocadastro__title">Cadastre-se:</h1>

    <form class="row g-4" (ngSubmit)="submit()" [formGroup]="momentForm" #formCliente="ngForm">
        <section class="autocadastro__row row">
            <div class="col-sm">
                <label for="inputCpf3" class="form-label">CPF:*</label>

                <input type="text" class="form-control" name="cpf" id="inputCpf4" formControlName="cpf"
                    [(ngModel)]="cliente.cpf" mask="000.000.000-00" placeholder="000.000.000-00" maxlength="14"
                    minlength="11" required />

                <div *ngIf="cpf.errors && (cpf.dirty || cpf.touched)" class="autocadastro__erro">
                    <div [hidden]="!cpf.errors?.['required']">
                        <p>Digite o CPF</p>
                    </div>
                    <div [hidden]="!cpf.errors?.['minlength']">
                        <p>O CPF deve conter ao menos 11 caracteres.</p>
                    </div>
                </div>

            </div>
        </section>

        <section class="autocadastro__row row">
            <div class="col-8">
                <label for="inputNome" class="form-label">Nome:</label>

                <input type="text" class="form-control" id="nome" name="nome" formControlName="nome"
                    [(ngModel)]="cliente.nome" ngModel placeholder="Digite seu nome" minlength="2" required>

                <div *ngIf="nome.errors && (nome.dirty || nome.touched)" class="autocadastro__erro">
                    <div [hidden]="!nome.errors?.['required']">
                        <p>Digite o nome.</p>
                    </div>
                    <div [hidden]="!nome.errors?.['minlength']">
                        <p>O nome deve conter ao menos 2 caracteres.</p>
                    </div>
                </div>
            </div>

            <div class="col-4">
                <label for="inputFone" class="form-label">Telefone:*</label>

                <input type="text" class="form-control" id="inputFone" formControlName="telefone"
                    [(ngModel)]="cliente.telefone" placeholder="(00) 0000-0000" mask="(00) 0000-0000" minlength="10"
                    maxlength="15" required>

                <div *ngIf="telefone.errors && (telefone.dirty || telefone.touched)" class="autocadastro__erro">
                    <div [hidden]="!telefone.errors?.['required']">
                        <p>Digite o telefone.</p>
                    </div>
                    <div [hidden]="!telefone.errors?.['minlength']">
                        <p>O telefone deve conter ao menos 10 caracteres.</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="autocadastro__row row">
            <div class="col-sm">
                <label for="inputEmail" class="form-label">E-mail:*</label>

                <input type="email" class="form-control" id="inputEmail" name="email" formControlName="email"
                    [(ngModel)]="cliente.email" placeholder="fulano@email.com" required>

                <div *ngIf="email.errors && (email.dirty || email.touched)" class="autocadastro__erro">
                    <div [hidden]="!email.errors?.['required']">
                        <p>Digite o email.</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="autocadastro__row row">
            <div class="col-4">
                <label for="inputAddress" class="form-label">CEP:*</label>

                <input type="text" class="form-control" id="inputAddress" formControlName="cep" (blur)="buscarCEP()"
                    [(ngModel)]="cliente.cep" mask="00000-000" placeholder="000000-000" minlength="8" maxlength="9"
                    required>

                <div *ngIf="cep.errors && (cep.dirty || cep.touched)" class="autocadastro__erro">
                    <div [hidden]="!cep.errors?.['required']">
                        <p>Digite o cep.</p>
                    </div>
                </div>
            </div>

            <div class="col-6">
                <label for="inputCidade" class="form-label">Cidade:*</label>

                <input type="text" class="form-control" id="inputCidade" formControlName="cidade"
                    [(ngModel)]="cliente.cidade" required>

                <div *ngIf="cidade.errors && (cidade.dirty || cidade.touched)" class="autocadastro__erro">
                    <div [hidden]="!cidade.errors?.['required']">
                        <p>Digite a cidade.</p>
                    </div>
                </div>
            </div>
            <div class="col-2">
                <label for="inputUF" class="form-label">UF:*</label>

                <input type="text" class="form-control" id="inputUf" formControlName="uf" [(ngModel)]="cliente.uf"
                    required>

                <div *ngIf="uf.errors && (uf.dirty || uf.touched)" class="autocadastro__erro">
                    <div [hidden]="!uf.errors?.['required']">
                        <p>Digite a UF.</p>
                    </div>
                </div>
            </div>

        </section>

        <section class="autocadastro__row  row">
            <div class="col-10">
                <label for="inputAddress" class="form-label">Endereço:*</label>

                <input type="text" class="form-control" id="inputAddress" formControlName="logradouro"
                    [(ngModel)]="cliente.endereco" required>

                <div *ngIf="uf.errors && (uf.dirty || uf.touched)" class="autocadastro__erro">
                    <div [hidden]="!uf.errors?.['required']">
                        <p>Digite o endereço</p>
                    </div>
                </div>
            </div>
            <div class="col-2">
                <label for="inputAddress2" class="form-label">Nº:*</label>

                <input type="text" class="form-control" id="inputAddress2" formControlName="numero"
                    [(ngModel)]="cliente.numero" required>

                <div *ngIf="numero.errors && (numero.dirty || numero.touched)" class="autocadastro__erro">
                    <div [hidden]="!numero.errors?.['required']">
                        <p>Digite o número.</p>
                    </div>
                </div>
            </div>
        </section>

        <section class="row">
            <div class="col-12">
                <button type="submit" class="autocadastro__btn btn btn-primary" (click)="inserir()"
                    [disabled]="!formCliente.form.valid">Cadastrar</button>
            </div>
        </section>
        <p><span class="required">*</span> campos obrigatórios</p>
    </form>
</section>
<app-footer></app-footer>